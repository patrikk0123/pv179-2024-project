// https://dbdiagram.io/d
// Docs: https://dbml.dbdiagram.io/docs

Table author {
    id integer [primary key]
    name varchar
    surname varchar
    created_at timestamp
}

Table book_author {
    id integer [primary key]
    author_id integer
    book_id integer
}

Table book {
    id integer [primary key]
    publisher_id integer
    name varchar
    description text
    publish_date date
    pages integer
    rating integer
    price double
    created_at timestamp
}

Table review {
    id integer [primary key]
    book_id integer
    user_id integer
    rating integer
    body text
    created_at timestamp
}

Table book_order {
    id integer [primary key]
    book_id integer
    order_id integer
    price double
    created_at timestamp
}

Table order {
    id integer [primary key]
    user_id integer
    total_price double
    created_at timestamp
}

Table user {
    id integer [primary key]
    username varchar
    email varchar
    is_admin boolean
    created_at timestamp
}

Table publisher {
  id integer [primary key]
  name varchar
  created_at timestamp
}

Table book_genre {
  id integer [primary key]
  genre_id integer
  book_id integer
}

Table genre {
  id integer [primary key]
  genre varchar
  created_at timestamp
}

Table wishlist {
  id integer [primary key]
  book_id integer
  user_id integer
}

Ref: author.id < book_author.author_id
Ref: book.id < book_author.book_id
Ref: book.id < review.book_id
Ref: user.id < review.user_id
Ref: book.id < book_order.book_id
Ref: order.id < book_order.order_id
Ref: user.id < order.user_id
Ref: book.publisher_id > publisher.id
Ref: book.id < book_genre.book_id
Ref: genre.id < book_genre.genre_id
Ref: book.id < wishlist.book_id
Ref: user.id < wishlist.user_id




